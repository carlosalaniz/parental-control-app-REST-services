**Rest services**

REST services that support parental control application

##### Parent Model (RDB)
| Field        | Type        |                   |
| ------------ | ----------- | ----------------- |
| id           | Integer     | PK, autogenerated |
| id           | Integer     |
| email        | String(50)  |
| password     | String(255) |
| full_name    | String(255) |
| phone_number | String(50)  |
| address      | String(255) |

##### Child Model (RDB)
| Field                          | Type        |                                      |
| ------------------------------ | ----------- | ------------------------------------ |
| id                             | Integer     | PK, autogenerated                    |
| [parent_id](#parent-model-rdb) | Integer     | FK to [Parent](#parent-model-rdb).id |
| email                          | String(50)  |                                      |
| password                       | String(255) |                                      |
| name                           | String(255) |                                      |
| phone_number                   | String(50)  |                                      |

##### Device Model (RDB)
| Field                                      | Type       |                                    |
| ------------------------------------------ | ---------- | ---------------------------------- |
| id                                         | Integer    | PK, autogenerated                  |
| [child_id](#child-model-rdb)               | Integer    | FK to [Child](#child-model-rdb).id |
| type                                       | Tinyint    |                                    |
| last_known_position_id                     | Integer    |                                    |
| device_locked                              | Boolean    |                                    |
| [device_policy_id](#android-reports-nosql) | String(50) | Ref. to NoSQL record               |

##### Device-Android Model extends [Device Model](#device-model-rdb) (RDB)
| Field                          | Type        |                                          |
| ------------------------------ | ----------- | ---------------------------------------- |
| [device_id](#device-model-rdb) | Integer     | PK, FK to [Device](#device-model-rdb).id |
| fcm_registration_token         | String(100) |

##### Command Model (RDB)
| Field                          | Type    |                                      |
| ------------------------------ | ------- | ------------------------------------ |
| id                             | Integer | PK, autogenerated                    |
| [device_id](#device-model-rdb) | Integer | FK to [Device](#device-model-rdb).id |
| command                        | Tinyint |
| payload                        | String  |
| status                         | Tinyint |
| delivered_at                   | Date    |
| last_status_update_at          | Date    |

##### Device Positions (RDB)
| Field                          | Type    |                                      |
| ------------------------------ | ------- | ------------------------------------ |
| id                             | Integer | PK, autogenerated                    |
| [device_id](#device-model-rdb) | Integer | FK to [Device](#device-model-rdb).id |
| request_date                   | Date    |                                      |
| postion                        | Point   |                                      |


##### Device Types (Constants)
| Type_id | Type    |
| ------- | ------- |
| 0       | Android |
| 1       | Windows |
| 2       | iOS     |
| 3       | MacOs   |

---
##### Android Device Policies (NoSQL)
| Field                          | Type                 |                   |
| ------------------------------ | -------------------- | ----------------- |
| id                             | String(50)           | PK, autogenerated |
| application_daily_usage_limits | Map<String, Integer> |                   |
| phone_daily_usage_limit        | Integer              |                   |

##### Android Reports (NoSQL)
| Field                          | Type                      |                   |
| ------------------------------ | ------------------------- | ----------------- |
| id                             | String(50)                | PK, autogenerated |
| device_id                      | String(50)                |                   |
| report_date                    | Date                      |                   |
| application_daily_usage_report | Map<String, Integer>      |                   |
| phone_daily_usage_report       | Integer                   |                   |
| location_report                | Array<Tuple<Point, Date>> |                   |